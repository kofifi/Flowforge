import{j as e}from"./index-BQ9o7mEa.js";import{r as m}from"./reactflow-CgyvNGsb.js";import{V as v}from"./VariableSelect-DF1e_AzG.js";import"./vendor-t4Ks9Nel.js";import"./Icon-UISONTKN.js";function C({panelId:o,variables:c,config:r,setHttpConfigs:i,formatVariableDisplay:p,normalizeVariableName:u,markDirty:d}){const s=m.useCallback(a=>{i(t=>({...t,[o]:{...r,...a}})),d()},[r,d,o,i]),h=(a,t,l)=>{const n=[...r.headers];n[a]={...n[a],[t]:l},s({headers:n})},x=()=>s({headers:[...r.headers,{name:"",value:""}]}),j=a=>s({headers:r.headers.filter((t,l)=>l!==a)});return e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"drawer-label",htmlFor:"http-method",children:[e.jsx("span",{className:"label-icon",children:e.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M5 12h14M5 7h9M5 17h9",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}),"Method"]}),e.jsx("select",{id:"http-method",value:r.method,onChange:a=>s({method:a.target.value}),children:["GET","POST","PUT","PATCH","DELETE"].map(a=>e.jsx("option",{value:a,children:a},a))}),e.jsxs("label",{className:"drawer-label",htmlFor:"http-url",children:[e.jsx("span",{className:"label-icon",children:e.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M9.5 6.5 6.5 9.5a4 4 0 1 0 5.66 5.66l1.34-1.34m-2-2 3-3a4 4 0 1 0-5.66-5.66L7.5 4.5",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}),"URL"]}),e.jsx("input",{id:"http-url",type:"url",placeholder:"https://api.example.com/resource",value:r.url,onChange:a=>s({url:a.target.value})}),e.jsx(v,{id:"http-response-var",label:"Response variable",placeholder:"e.g. responseBody",value:p(r.responseVariable??""),options:c.map(a=>`$${a.name}`),onValueChange:a=>{const t=u(a);s({responseVariable:t})}}),e.jsxs("label",{className:"drawer-label",htmlFor:"http-auth",children:[e.jsx("span",{className:"label-icon",children:e.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M6 10v8h12v-8M9 10V7a3 3 0 1 1 6 0v3",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}),"Authorization"]}),e.jsxs("select",{id:"http-auth",value:r.authType,onChange:a=>s({authType:a.target.value}),children:[e.jsx("option",{value:"none",children:"None"}),e.jsx("option",{value:"bearer",children:"Bearer token"}),e.jsx("option",{value:"basic",children:"Basic auth"}),e.jsx("option",{value:"apiKeyHeader",children:"API key (header)"}),e.jsx("option",{value:"apiKeyQuery",children:"API key (query)"})]}),r.authType==="bearer"&&e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"drawer-label",htmlFor:"http-bearer",children:[e.jsx("span",{className:"label-icon",children:e.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M12 4v16m-6-8h12",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}),"Bearer token"]}),e.jsx("input",{id:"http-bearer",type:"text",value:r.bearerToken,onChange:a=>s({bearerToken:a.target.value})})]}),r.authType==="basic"&&e.jsxs("div",{className:"two-col",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"drawer-label",htmlFor:"http-basic-user",children:[e.jsx("span",{className:"label-icon",children:e.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4Zm-6 6a6 6 0 1 1 12 0",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}),"Username"]}),e.jsx("input",{id:"http-basic-user",type:"text",value:r.basicUsername,onChange:a=>s({basicUsername:a.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"drawer-label",htmlFor:"http-basic-pass",children:[e.jsx("span",{className:"label-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:[e.jsx("path",{d:"M7 11V8a5 5 0 1 1 10 0v3",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),e.jsx("rect",{x:"5",y:"11",width:"14",height:"9",rx:"2",stroke:"currentColor",strokeWidth:"1.6",fill:"none"}),e.jsx("path",{d:"M12 14v2",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}),"Password"]}),e.jsx("input",{id:"http-basic-pass",type:"password",value:r.basicPassword,onChange:a=>s({basicPassword:a.target.value})})]})]}),(r.authType==="apiKeyHeader"||r.authType==="apiKeyQuery")&&e.jsxs("div",{className:"two-col",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"drawer-label",htmlFor:"http-api-name",children:[e.jsx("span",{className:"label-icon",children:e.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M5 12h4l2-2 3 3 2-2 3 3",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}),"API key name"]}),e.jsx("input",{id:"http-api-name",type:"text",value:r.apiKeyName,onChange:a=>s({apiKeyName:a.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"drawer-label",htmlFor:"http-api-value",children:[e.jsx("span",{className:"label-icon",children:e.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M4 12h6l2-3 3 4 2-2 3 3",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})}),"API key value"]}),e.jsx("input",{id:"http-api-value",type:"text",value:r.apiKeyValue,onChange:a=>s({apiKeyValue:a.target.value})})]})]}),e.jsxs("label",{className:"drawer-label",children:[e.jsx("span",{className:"label-icon",children:e.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M5 7h14M5 12h11M5 17h9",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}),"Headers"]}),e.jsxs("div",{className:"stacked-list",children:[r.headers.map((a,t)=>e.jsxs("div",{className:"header-row",children:[e.jsx("input",{type:"text",placeholder:"Header name",value:a.name,onChange:l=>h(t,"name",l.target.value)}),e.jsx("input",{type:"text",placeholder:"Value",value:a.value,onChange:l=>h(t,"value",l.target.value)}),e.jsx("button",{type:"button",className:"ghost",onClick:()=>j(t),children:"Remove"})]},`header-${t}`)),e.jsx("button",{type:"button",className:"ghost",onClick:x,children:"Add header"})]}),r.method!=="GET"&&e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"drawer-label",htmlFor:"http-body",children:[e.jsx("span",{className:"label-icon",children:e.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:[e.jsx("path",{d:"M5 5h14v14H5z",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),e.jsx("path",{d:"M9 9h6v6H9z",fill:"currentColor"})]})}),"Body (JSON or form)"]}),e.jsx("textarea",{id:"http-body",placeholder:'e.g. {"name":"value"}',rows:4,value:r.body,onChange:a=>s({body:a.target.value})})]})]})}export{C as default};
