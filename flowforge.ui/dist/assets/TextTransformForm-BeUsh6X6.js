import{j as t}from"./index-BQ9o7mEa.js";import{I as p}from"./Icon-UISONTKN.js";import{V as u}from"./VariableSelect-DF1e_AzG.js";import"./reactflow-CgyvNGsb.js";import"./vendor-t4Ks9Nel.js";const h=["Trim","Lower","Upper"];function $({panelId:i,variables:m,config:a,setTextConfigs:c,markDirty:x}){const s=m.map(e=>`$${e.name}`),n=e=>{const r=e.trim();return r.startsWith("$")?r.slice(1):r},o=e=>e.trim()?e.startsWith("$")?e:`$${e}`:"",l=e=>{c(r=>{const b=r[i]??a;return{...r,[i]:{...b,...e}}}),x()};return t.jsxs(t.Fragment,{children:[t.jsxs("label",{htmlFor:"text-operation",className:"drawer-label",children:[t.jsx("span",{className:"label-icon",children:t.jsx(p,{name:"rows"})}),"Operation"]}),t.jsx("select",{id:"text-operation",value:a.operation,onChange:e=>l({operation:e.target.value}),children:h.map(e=>t.jsx("option",{value:e,children:e},e))}),t.jsxs("label",{htmlFor:"text-input",className:"drawer-label",children:[t.jsx("span",{className:"label-icon",children:t.jsx(p,{name:"rows"})}),"Input text (literal)"]}),t.jsx("input",{id:"text-input",type:"text",placeholder:"Hello world",value:a.input??"",onChange:e=>l({input:e.target.value})}),t.jsx(u,{id:"text-input-variable",label:"Or variable (overrides literal)",value:o(a.inputVariable??""),options:s,placeholder:"$text",onValueChange:e=>l({inputVariable:n(e)}),showHints:!1,trailingAction:a.inputVariable?t.jsx("button",{type:"button",className:"ghost",onClick:()=>l({inputVariable:""}),children:"Clear"}):null}),t.jsx(u,{id:"text-result",label:"Result variable",placeholder:"$result",value:o(a.resultVariable??"result"),options:s,onValueChange:e=>l({resultVariable:n(e)||"result"}),showHints:!1}),t.jsx("p",{className:"muted",children:"Variable input takes priority over literal. Output is stored in the chosen result variable."})]})}export{$ as default};
