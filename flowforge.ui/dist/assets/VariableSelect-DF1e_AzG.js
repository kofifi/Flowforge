import{j as e}from"./index-BQ9o7mEa.js";import{r as c}from"./reactflow-CgyvNGsb.js";import{I as f}from"./Icon-UISONTKN.js";function C({id:u,label:x,value:a,options:t,placeholder:j,onValueChange:b,trailingAction:n,showHints:d=!0}){const[p,o]=c.useState(!1),[m,l]=c.useState(a);c.useEffect(()=>{l(a)},[a]);const i=c.useMemo(()=>t.some(s=>s===a),[t,a]),N=d&&a.trim().length>0&&!i,h=c.useMemo(()=>{const s=m.trim().toLowerCase();return s?t.filter(r=>r.toLowerCase().includes(s)):t},[t,m]);return e.jsxs("div",{className:"combo",children:[e.jsxs("label",{className:"drawer-label",htmlFor:u,children:[e.jsx("span",{className:"label-icon",children:e.jsx(f,{name:"rows"})}),x]}),e.jsxs("div",{className:`combo-input ${i?"combo-input--known":""} ${n?"combo-input--with-action":""}`,children:[e.jsx("input",{id:u,type:"text",placeholder:j,value:m,onFocus:()=>o(!0),onChange:s=>{const r=s.target.value;l(r),b(r),o(!0)},onBlur:()=>{window.setTimeout(()=>o(!1),120)}}),n&&e.jsx("span",{className:"combo-action",children:n}),e.jsx("span",{className:"combo-icon",children:"âŒ„"})]}),d&&i&&e.jsx("span",{className:"combo-hint",children:"Matched variable"}),N&&e.jsx("span",{className:"combo-warn",children:"This is not a variable"}),p&&e.jsx("div",{className:"combo-menu",children:h.length===0?e.jsx("div",{className:"combo-empty",children:"No matches"}):h.map(s=>e.jsx("button",{type:"button",className:"combo-item",onClick:()=>{b(s),l(s),o(!1)},children:s},s))})]})}export{C as V};
