import{j as e}from"./index-BQ9o7mEa.js";import{I as h}from"./Icon-UISONTKN.js";import"./reactflow-CgyvNGsb.js";import"./vendor-t4Ks9Nel.js";function $({variables:t,variablesStatus:i,variablesSaving:n,variablesLocalError:c,newVariableName:d,newVariableDefault:m,editingVariableId:x,editingVariableName:r,editingVariableDefault:u,onClose:o,onCreate:j,onUpdate:p,onDelete:N,onStartEdit:b,onCancelEdit:v,setNewVariableName:f,setNewVariableDefault:g,setEditingVariableName:C,setEditingVariableDefault:k,markDirty:a}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"drawer-backdrop",onClick:o}),e.jsxs("aside",{className:"variables-drawer",children:[e.jsxs("div",{className:"palette-header",children:[e.jsxs("div",{children:[e.jsx("p",{className:"palette-title",children:"Workflow variables"}),e.jsx("span",{className:"palette-subtitle",children:"Used by Calculation blocks."})]}),e.jsx("button",{type:"button",className:"ghost",onClick:o,children:"Close"})]}),e.jsxs("section",{className:"variables-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("p",{className:"section-title",children:"Add variable"}),e.jsx("span",{className:"section-subtitle",children:"Name + default value."})]}),e.jsxs("form",{className:"variables-form",onSubmit:j,children:[e.jsxs("label",{className:"drawer-label",htmlFor:"var-name",children:[e.jsx("span",{className:"label-icon",children:e.jsx(h,{name:"rows"})}),"Name"]}),e.jsx("input",{id:"var-name",type:"text",placeholder:"e.g. total",value:d,onChange:s=>{f(s.target.value),a()}}),e.jsxs("label",{className:"drawer-label",htmlFor:"var-default",children:[e.jsx("span",{className:"label-icon",children:e.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M4 8h6M7 5v6M14 7h6M14 12h6M14 17h6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}),"Default value"]}),e.jsx("input",{id:"var-default",type:"text",placeholder:"Optional",value:m,onChange:s=>{g(s.target.value),a()}}),e.jsx("button",{type:"submit",disabled:!d.trim()||n,children:"Add variable"})]})]}),e.jsxs("section",{className:"variables-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("p",{className:"section-title",children:"All variables"}),e.jsxs("span",{className:"section-subtitle",children:[t.length," total"]})]}),i?e.jsx("p",{className:"muted",children:i}):e.jsx("ul",{className:"variables-list",children:t.map(s=>e.jsx("li",{className:"variable-card",children:x===s.id?e.jsxs("form",{className:"variable-edit",onSubmit:p,children:[e.jsxs("label",{className:"drawer-label",htmlFor:`edit-name-${s.id}`,children:[e.jsx("span",{className:"label-icon",children:e.jsx(h,{name:"rows"})}),"Name"]}),e.jsx("input",{id:`edit-name-${s.id}`,type:"text",value:r,onChange:l=>{C(l.target.value),a()}}),e.jsxs("label",{className:"drawer-label",htmlFor:`edit-default-${s.id}`,children:[e.jsx("span",{className:"label-icon",children:e.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:"M4 8h6M7 5v6M14 7h6M14 12h6M14 17h6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}),"Default value"]}),e.jsx("input",{id:`edit-default-${s.id}`,type:"text",value:u,onChange:l=>{k(l.target.value),a()},placeholder:"Optional"}),e.jsxs("div",{className:"card-actions",children:[e.jsx("button",{type:"submit",disabled:!r.trim()||n,children:"Save"}),e.jsx("button",{type:"button",className:"ghost",onClick:v,children:"Cancel"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("p",{className:"label",children:s.name}),e.jsxs("p",{className:"meta",children:["Default: ",s.defaultValue??"â€”"]})]}),e.jsxs("div",{className:"card-actions",children:[e.jsx("button",{type:"button",onClick:()=>b(s),children:"Edit"}),e.jsx("button",{type:"button",className:"danger",onClick:()=>N(s.id),children:"Delete"})]})]})},s.id))}),c&&e.jsx("p",{className:"muted",style:{color:"var(--danger-600)"},children:c})]})]})]})}export{$ as default};
